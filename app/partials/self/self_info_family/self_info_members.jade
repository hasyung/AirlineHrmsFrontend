section.personnel-info-section(ng-init="vm.lovers = currentUser.familymembers.$search({relation: 'lover'})")
    .personnel-content-body
        .personnel-section-wrap
            md-content
                section.form-material-section(ng-if="vm.lovers.length != 0" ng-repeat="wife in vm.lovers" style="padding-bottom: 0;")
                    include self_info_lover_edit
                section.form-material-section(ng-if="vm.lovers.length == 0" ng-init="wife = vm.lovers.$new(); wife.relation='lover';" style="padding-bottom: 0;")
                    include self_info_lover_edit
            md-content.form-material-section.form-table-container(ng-init="vm.children = currentUser.familymembers.$search({relation: 'children'}); newChild = null")
                .btngroup--top--right(style="padding-right: 0;")
                    span(flex)
                    //- span(ng-hide="editing")
                    //-     md-button.md-raised.md-primary(ng-click="newChildren.push({})") 新增
                .subheader--center
                    .subheader__content
                        span.subheader__icon
                            img(src="/images/personnel/subh-icon.png", alt="icon--plane")
                        span 子女情况
                table.table.table-hover.table-mc-light-blue.table-bordered
                    thead
                        tr
                            th 姓名
                            th 关系
                            th 性别
                            th 身份证
                            th 出生年月
                            th 常住户口所在地
                            th 学校或工作单位
                            th 操作
                    tbody
                        tr(ng-repeat="child in vm.children")
                            td(ng-bind="child.name")
                            td(ng-bind="child.relationType")
                            td(ng-bind="child.gender")
                            td(ng-bind="child.identityNo")
                            td(ng-bind="child.birthday | date:'yyyy-MM-dd'")
                            td(ng-bind="child.residenceBooklet")
                            td(ng-bind="child.company")
                            td.control-td
                                button.fa.fa-times(ng-click="child.$destroy()")
                form.add-member(ng-show="newChild")
                    div(layout)
                        md-input-container(flex)
                            label 姓名
                            input(ng-model="newChild.name" required)
                        md-input-container(flex)
                            label 关系
                            input(ng-model="newChild.relationType" required)
                    div(layout)
                        md-input-container(flex)
                            label 性别
                            input(ng-model="newChild.gender" required)
                        md-input-container(flex)
                            label 出生年月
                            input(ng-model="newChild.birthday" bs-datepicker)
                    md-input-container
                        label 身份证
                        input(ng-model="newChild.identityNo" columns="1")
                    md-input-container
                        label 常住户口所在地
                        input(ng-model="newChild.residenceBooklet" columns="1")
                    md-input-container
                        label 学校或工作单位
                        input(ng-model="newChild.company" columns="1")
                    .form-actions
                        md-button.md-raised.white(type="button" ng-click="newChild = null") 取消
                        md-button.md-raised.md-primary(type="button" ng-click="vm.children.$create(newChild); newChild = null") 提交

                .add(ng-hide="newChild")
                    button.fa.fa-plus(ng-click="newChild={relation:'children'}")

            md-content.form-material-section.form-table-container(ng-init="vm.other = currentUser.familymembers.$search({relation: 'other'}); newOther = null")
                .btngroup--top--right(style="padding-right: 0;")
                    span(flex)
                    //- span(ng-hide="editing")
                    //-     md-button.md-raised.md-primary(ng-click="newOther.push({})") 新增
                .subheader--center
                    .subheader__content
                        span.subheader__icon
                            img(src="/images/personnel/subh-icon.png", alt="icon--plane")
                        span 父母、兄妹、配偶父母情况
                table.table.table-hover.table-mc-light-blue.table-bordered
                    thead
                        tr
                            th 姓名
                            th 关系
                            th 性别
                            th 身份证
                            th 出生年月
                            th 常住户口所在地
                            th 学校或工作单位
                            th 操作
                    tbody
                        tr(ng-repeat="omg in vm.other")
                            td(ng-bind="omg.name")
                            td(ng-bind="omg.relationType")
                            td(ng-bind="omg.gender")
                            td(ng-bind="omg.identityNo")
                            td(ng-bind="omg.birthday | date:'yyyy-MM-dd'")
                            td(ng-bind="omg.residenceBooklet")
                            td(ng-bind="omg.company")
                            td.control-td
                                button.fa.fa-times(ng-click="omg.$destroy()")
                form.add-member(ng-show="newOther")
                    div(layout)
                        md-input-container(flex)
                            label 姓名
                            input(ng-model="newOther.name" required)
                        md-input-container(flex)
                            label 关系
                            input(ng-model="newOther.relationType" required)
                    div(layout)
                        md-input-container(flex)
                            label 性别
                            input(ng-model="newOther.gender" required)
                        md-input-container(flex)
                            label 出生年月
                            input(ng-model="newOther.birthday" bs-datepicker)
                    md-input-container
                        label 身份证
                        input(ng-model="newOther.identityNo")
                    md-input-container
                        label 常住户口所在地
                        input(ng-model="newOther.residenceBooklet")
                    md-input-container
                        label 学校或工作单位
                        input(ng-model="newOther.company")
                    .form-actions()
                        md-button.md-raised.white(type="button" ng-click="newOther = null;") 取消
                        md-button.md-raised.md-primary(type="button" ng-click="vm.other.$create(newOther); newOther = null;") 提交

                .add(ng-hide="newOther")
                    button.fa.fa-plus(ng-click="newOther={relation:'other'}")

