.personnel-content(ng-controller="NewResource")
    section.personnel-info-section(md-theme="hrms" ng-init= "params = {}")
        md-toolbar()
            .md-toolbar-tools
                span 新员工入职
        md-content.form-material-section
            md-subheader.md-primary 基本信息
            //- 应该得到请求结果后才判断是否关闭dialog
            form(ng-submit="ctrl.regEmployee(newEmp);panel.close();" name="newEmpForm")
                md-content
                    md-input-container(flex)
                        label 姓名
                        input(type="text" placeholder="请输入姓名" ng-model="newEmp.name" required)
                    md-input-container.row-has-value(flex)
                        label 性别
                        md-select(ng-model="newEmp.gender")
                            md-select-label {{$enum.parseLabel(newEmp.gender, "genders")}}
                            md-option(ng-value="item.id" ng-repeat="item in $enum.get('genders')") {{item.label}}
                    md-input-container(flex)
                        label 身份证号码
                        input(type="text" placeholder="身份证号" ng-model="newEmp.identityNo" required)
                    md-input-container.row-has-value(flex)
                        label 政治面貌
                        md-select(ng-model="newEmp.politicalStatus")
                            md-select-label {{$enum.parseLabel(newEmp.politicalStatus, "political_status")}}
                            md-option(ng-value="item.id" ng-repeat="item in $enum.get('political_status')") {{item.label}}
                    md-input-container.row-has-value(flex)
                        label 学历
                        md-select(ng-model="newEmp.educationBackground")
                            md-select-label {{$enum.parseLabel(newEmp.educationBackground, "education_backgrounds")}}
                            md-option(ng-value="item.id" ng-repeat="item in $enum.get('education_backgrounds')") {{item.label}}
                    md-input-container.row-has-value(flex)
                        label 学位
                        md-select(ng-model="newEmp.degree")
                            md-select-label {{$enum.parseLabel(newEmp.degree, "degrees")}}
                            md-option(ng-value="item.id" ng-repeat="item in $enum.get('degrees')") {{item.label}}
                    md-input-container(flex)
                        label 毕业院校
                        input(type="text" placeholder="请输入毕业院校" ng-model="newEmp.school")
                    md-input-container(flex)
                        label 专业
                        input(type="text" placeholder="请输入专业" ng-model="newEmp.major")
                    md-input-container.row-has-value(flex)
                        label 英语等级
                        md-select(ng-model="newEmp.englishLevel")
                            md-select-label {{$enum.parseLabel(newEmp.englishLevel, "english_levels")}}
                            md-option(ng-value="item.id" ng-repeat="item in $enum.get('english_levels')") {{item.label}}
                    md-input-container(flex)
                        label 手机号码
                        input(type="text" placeholder="请输入手机号码" ng-model="newEmp.contact.mobile")

                    .form-gourp
                        label 所属部门
                        org-search(ng-model="newEmp.department" float-label selected-item-change="params.orgPos = org.positions.$fetch();newEmp.position = null;")
                    md-input-container.row-has-value(flex)
                        label 岗位
                        md-select(ng-model="newEmp.position")
                            md-select-label {{newEmp.position.name || "无"}}
                            md-option(ng-value="item" ng-repeat="item in params.orgPos") {{item.name}}

                    md-input-container.row-has-value(flex)
                        label 属地化地点
                        md-select(ng-model="newEmp.location")
                            md-select-label {{$enum.parseLabel(newEmp.location, "locations")}}
                            md-option(ng-value="item.id" ng-repeat="item in $enum.get('locations')") {{item.label}}

                    md-input-container.row-has-value(flex)
                        label 用工性质
                        md-select(ng-model="newEmp.laborRelation")
                            md-select-label {{$enum.parseLabel(newEmp.laborRelation, "labor_relations")}}
                            md-option(ng-value="item.id" ng-repeat="item in $enum.get('labor_relations')") {{item.label}}

                    md-input-container.row-has-value(flex)
                        label 用工关系状态
                        md-select(ng-model="newEmp.employmentStatus")
                            md-select-label {{$enum.parseLabel(newEmp.employmentStatus, "employment_status")}}
                            md-option(ng-value="item.id" ng-repeat="item in $enum.get('employment_status')") {{item.label}}

                    md-input-container.row-has-value(flex)
                        label 职称
                        md-select(ng-model="newEmp.jobTitle")
                            md-select-label {{$enum.parseLabel(newEmp.jobTitle, "job_titles")}}
                            md-option(ng-value="item.id" ng-repeat="item in $enum.get('job_titles')") {{item.label}}

                    md-input-container.row-has-value(flex)
                        label 职称级别
                        md-select(ng-model="newEmp.jobTitleDegree")
                            md-select-label {{$enum.parseLabel(newEmp.jobTitleDegree, "job_title_degrees")}}
                            md-option(ng-value="item.id" ng-repeat="item in $enum.get('job_title_degrees')") {{item.label}}

                    md-input-container(flex)
                        label 参工时间
                        input(ng-model="newEmp.startWorkDate" bs-datepicker)
                    md-input-container(flex)
                .form-bottom-group.pull-right()
                    md-button.md-raised.white(type="button" ng-click="panel.close()") 取消
                    md-button.md-primary.md-raised(type="submit") 保存

